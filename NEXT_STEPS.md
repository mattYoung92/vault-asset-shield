# ä¸‹ä¸€æ­¥éƒ¨ç½²æ­¥éª¤

## âœ… å·²å®Œæˆçš„å·¥ä½œ

1. **æ™ºèƒ½åˆçº¦æ›´æ–°**
   - âœ… æ·»åŠ å®Œæ•´çš„æŠ•èµ„ç”Ÿå‘½å‘¨æœŸåŠŸèƒ½
   - âœ… å®ç° `invest()` å‡½æ•° - ç”¨æˆ·æŠ•èµ„
   - âœ… å®ç° `withdrawInvestment()` å‡½æ•° - æå–èµ„é‡‘
   - âœ… å®ç° `calculateEarnings()` å‡½æ•° - è®¡ç®—æ”¶ç›Š
   - âœ… å®ç° `getUserInvestment()` å‡½æ•° - æŸ¥çœ‹æŠ•èµ„è¯¦æƒ…
   - âœ… æ·»åŠ æŠ•èµ„è¿½è¸ªæ•°æ®ç»“æ„
   - âœ… æ·»åŠ  APY ç®¡ç†åŠŸèƒ½

2. **å‰ç«¯æ›´æ–°**
   - âœ… æ›´æ–° ABI åŒ…å«æ–°çš„æŠ•èµ„å‡½æ•°
   - âœ… æ·»åŠ  `invest` å’Œ `withdrawInvestment` hooks
   - âœ… æ›´æ–° `InvestModal` ä½¿ç”¨æ–°çš„ `invest` å‡½æ•°
   - âœ… ä¿®å¤ USD åˆ° ETH è½¬æ¢é€»è¾‘
   - âœ… æ·»åŠ çœŸå®èµ„äº§æ•°æ®å±•ç¤º

3. **æ–‡æ¡£**
   - âœ… åˆ›å»ºæŠ•èµ„ç”Ÿå‘½å‘¨æœŸæŒ‡å— (`INVESTMENT_LIFECYCLE.md`)
   - âœ… åˆ›å»ºéƒ¨ç½²è„šæœ¬ (`deploy-with-investment.cjs`)

## ğŸš€ éœ€è¦æ‰‹åŠ¨å®Œæˆçš„æ­¥éª¤

### æ­¥éª¤ 1: é‡æ–°éƒ¨ç½²åˆçº¦

ç”±äº Hardhat ç¯å¢ƒé…ç½®é—®é¢˜ï¼Œéœ€è¦æ‚¨æ‰‹åŠ¨éƒ¨ç½²åˆçº¦ï¼š

#### é€‰é¡¹ A: ä½¿ç”¨ Remix IDEï¼ˆæ¨èï¼‰

1. æ‰“å¼€ https://remix.ethereum.org/
2. åˆ›å»ºæ–°æ–‡ä»¶ `VaultAssetShield.sol`
3. å¤åˆ¶ `/Users/nithon/Desktop/Zama/vault-asset-shield/contracts/VaultAssetShield.sol` çš„å†…å®¹
4. ç¼–è¯‘åˆçº¦ï¼ˆSolidity 0.8.24ï¼‰
5. è¿æ¥ MetaMask åˆ° Sepolia æµ‹è¯•ç½‘
6. éƒ¨ç½²åˆçº¦ï¼Œæ„é€ å‡½æ•°å‚æ•°ï¼š
   - `_verifier`: æ‚¨çš„åœ°å€
   - `_riskAssessor`: æ‚¨çš„åœ°å€
7. å¤åˆ¶éƒ¨ç½²çš„åˆçº¦åœ°å€

#### é€‰é¡¹ B: ä½¿ç”¨ Hardhatï¼ˆå¦‚æœç¯å¢ƒæ­£å¸¸ï¼‰

```bash
cd /Users/nithon/Desktop/Zama/vault-asset-shield
HARDHAT_CONFIG=hardhat.config.cjs npx hardhat run scripts/deploy-with-investment.cjs --network sepolia
```

### æ­¥éª¤ 2: æ›´æ–°åˆçº¦åœ°å€

éƒ¨ç½²æˆåŠŸåï¼Œæ›´æ–° `.env` æ–‡ä»¶ï¼š

```bash
VITE_CONTRACT_ADDRESS=æ–°éƒ¨ç½²çš„åˆçº¦åœ°å€
```

### æ­¥éª¤ 3: åˆå§‹åŒ–èµ„äº§å’Œ APY

éƒ¨ç½²åˆçº¦åï¼Œéœ€è¦åˆ›å»ºèµ„äº§å¹¶è®¾ç½® APYã€‚ä½¿ç”¨ä»¥ä¸‹è„šæœ¬æˆ–æ‰‹åŠ¨è°ƒç”¨ï¼š

```javascript
// 1. åˆ›å»ºèµ„äº§
await contract.createAsset(
  "Manhattan Office Tower",
  "Premium commercial real estate...",
  ethers.parseEther("350000"),
  ethers.parseEther("1000000"),
  1, // Real Estate
  "QmHash0"
);

// 2. è®¾ç½® APY
await contract.setAssetAPY(0, 850); // 8.5%
```

æˆ–è€…åˆ›å»ºä¸€ä¸ªç®€å•çš„åˆå§‹åŒ–è„šæœ¬ï¼š

```javascript
// scripts/init-assets.js
const assets = [
  { name: "Manhattan Office Tower", apy: 850 },  // 8.5%
  { name: "US Treasury Bonds 2024", apy: 350 },  // 3.5%
  { name: "Tech Startup Equity", apy: 1500 },    // 15.0%
  { name: "Gold Commodity Fund", apy: 620 },     // 6.2%
  { name: "Bitcoin ETF", apy: 1280 },            // 12.8%
  { name: "European Real Estate Fund", apy: 730 } // 7.3%
];

for (let i = 0; i < assets.length; i++) {
  await contract.setAssetAPY(i, assets[i].apy);
}
```

### æ­¥éª¤ 4: æµ‹è¯•æŠ•èµ„åŠŸèƒ½

1. åˆ·æ–°å‰ç«¯é¡µé¢
2. è¿æ¥é’±åŒ…
3. é€‰æ‹©ä¸€ä¸ªèµ„äº§
4. ç‚¹å‡» "Invest Privately"
5. è¾“å…¥æŠ•èµ„é‡‘é¢ï¼ˆä¾‹å¦‚ï¼š$100ï¼‰
6. ç¡®è®¤äº¤æ˜“
7. ç­‰å¾…äº¤æ˜“ç¡®è®¤

### æ­¥éª¤ 5: éªŒè¯åˆçº¦ï¼ˆå¯é€‰ï¼‰

åœ¨ Etherscan ä¸ŠéªŒè¯åˆçº¦ï¼š

```bash
HARDHAT_CONFIG=hardhat.config.cjs npx hardhat verify --network sepolia <åˆçº¦åœ°å€> <verifieråœ°å€> <riskAssessoråœ°å€>
```

## ğŸ“ å½“å‰åˆçº¦åœ°å€ä¿¡æ¯

**æ—§åˆçº¦**: `0xa68cc631b5081D41c48f51b7e5771470a75c21df`  
**æ–°åˆçº¦**: å¾…éƒ¨ç½²

## ğŸ” å…³é”®å‡½æ•°è¯´æ˜

### ç”¨æˆ·å¯è°ƒç”¨çš„å‡½æ•°

1. **invest(assetId, description) payable**
   - æŠ•èµ„æŒ‡å®šèµ„äº§
   - å‘é€ ETH ä½œä¸ºæŠ•èµ„é‡‘é¢
   - è‡ªåŠ¨è®°å½•æŠ•èµ„æ—¶é—´å’Œ APY

2. **withdrawInvestment(assetId)**
   - æå–æŠ•èµ„å’Œæ”¶ç›Š
   - è®¡ç®—å¹¶è¿”è¿˜æœ¬é‡‘ + æ”¶ç›Š
   - æ ‡è®°æŠ•èµ„ä¸ºéæ´»è·ƒçŠ¶æ€

3. **getUserInvestment(userAddress, assetId) view**
   - æŸ¥çœ‹ç”¨æˆ·åœ¨ç‰¹å®šèµ„äº§ä¸­çš„æŠ•èµ„è¯¦æƒ…
   - è¿”å›ï¼šæœ¬é‡‘ã€æ—¶é—´ã€APYã€æ˜¯å¦æ´»è·ƒã€å½“å‰æ”¶ç›Š

4. **calculateEarnings(userAddress, assetId) view**
   - è®¡ç®—ç”¨æˆ·å½“å‰æ”¶ç›Š
   - åŸºäº APY å’Œæ—¶é—´

### èµ„äº§æ‰€æœ‰è€…å‡½æ•°

1. **setAssetAPY(assetId, apy)**
   - è®¾ç½®èµ„äº§çš„ APY
   - APY ä»¥åŸºç‚¹è¡¨ç¤ºï¼ˆ850 = 8.5%ï¼‰

## âš ï¸ é‡è¦æé†’

1. **åˆçº¦ä½™é¢**: ç¡®ä¿åˆçº¦æœ‰è¶³å¤Ÿçš„ ETH æ¥æ”¯ä»˜ç”¨æˆ·æå–
2. **APY è®¾ç½®**: æ‰€æœ‰èµ„äº§å¿…é¡»è®¾ç½® APY æ‰èƒ½æ­£å¸¸è®¡ç®—æ”¶ç›Š
3. **æµ‹è¯•ç½‘ ETH**: ç¡®ä¿è´¦æˆ·æœ‰è¶³å¤Ÿçš„ Sepolia ETH è¿›è¡Œæµ‹è¯•
4. **Gas è´¹ç”¨**: éƒ¨ç½²å’Œåˆå§‹åŒ–ä¼šæ¶ˆè€—è¾ƒå¤š Gas

## ğŸ“Š æµ‹è¯•åœºæ™¯

### æµ‹è¯•åœºæ™¯ 1: åŸºæœ¬æŠ•èµ„æµç¨‹
1. ç”¨æˆ·æŠ•èµ„ $100 (0.0286 ETH)
2. ç­‰å¾… 1 åˆ†é’Ÿ
3. æŸ¥çœ‹æ”¶ç›Šï¼ˆåº”è¯¥æœ‰å°‘é‡æ”¶ç›Šï¼‰
4. æå–æŠ•èµ„
5. éªŒè¯æ”¶åˆ°æœ¬é‡‘ + æ”¶ç›Š

### æµ‹è¯•åœºæ™¯ 2: å¤šæ¬¡æŠ•èµ„
1. ç”¨æˆ·æŠ•èµ„ $100
2. ç­‰å¾…ä¸€æ®µæ—¶é—´
3. å†æ¬¡æŠ•èµ„ $50
4. éªŒè¯æœ¬é‡‘ç´¯åŠ ï¼Œæ”¶ç›Šåˆå¹¶

### æµ‹è¯•åœºæ™¯ 3: ä¸åŒ APY
1. æŠ•èµ„é«˜ APY èµ„äº§ï¼ˆ15%ï¼‰
2. æŠ•èµ„ä½ APY èµ„äº§ï¼ˆ3.5%ï¼‰
3. æ¯”è¾ƒæ”¶ç›Šå·®å¼‚

## ğŸ‰ é¢„æœŸç»“æœ

å®Œæˆæ‰€æœ‰æ­¥éª¤åï¼Œç”¨æˆ·åº”è¯¥èƒ½å¤Ÿï¼š

âœ… æµè§ˆ 6 ç§ä¸åŒçš„çœŸå®èµ„äº§  
âœ… ä»¥ $100 èµ·æŠ•ä»»ä½•èµ„äº§  
âœ… å®æ—¶æŸ¥çœ‹æŠ•èµ„å’Œæ”¶ç›Š  
âœ… éšæ—¶æå–æœ¬é‡‘ + æ”¶ç›Š  
âœ… çœ‹åˆ°åŸºäºæ—¶é—´å’Œ APY çš„çœŸå®æ”¶ç›Š  

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœéƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ï¼š

1. æ£€æŸ¥ `.env` æ–‡ä»¶é…ç½®æ˜¯å¦æ­£ç¡®
2. ç¡®è®¤ MetaMask è¿æ¥åˆ° Sepolia æµ‹è¯•ç½‘
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°çš„é”™è¯¯ä¿¡æ¯
4. åœ¨ Etherscan ä¸ŠæŸ¥çœ‹äº¤æ˜“è¯¦æƒ…

ç¥éƒ¨ç½²é¡ºåˆ©ï¼ğŸš€
